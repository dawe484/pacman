/*!
 * PAC-MAN 2017 - v1.0.3
 * Compiled Thu, 11 May 2017 15:43:56 UTC
 *
 * sound source: http://www.classicgaming.cc/classics/pac-man/sounds
 * sprite source: http://opengameart.org/content/ghosts
 *                http://opengameart.org/content/winter-platformer-game-tileset
 *                https://opengameart.org/content/medieval-game-button-pack
 *
 * pacman.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";function myLoading(){loading=setTimeout(showPage(),3e3)}function showPage(){document.getElementById("pacman").style.display="none",document.getElementById("loader").style.display="none",document.getElementById("myPacman").style.display="block"}function init(){function c(){let a=Math.min(window.innerWidth/GAME_WIDTH,window.innerHeight/GAME_HEIGHT);stage.scale.x=stage.scale.y=a,renderer.resize(Math.ceil(GAME_WIDTH*a),Math.ceil(GAME_HEIGHT*a))}function d(){musicPacmanBeginning=new Howl({src:["./assets/audio/pacman_beginning.wav"],autoplay:!0,volume:.2,loop:!0}),soundPacmanMunch=new Howl({src:["./assets/audio/pacman_chomp.wav"],rate:1.2,volume:.1}),soundPacmanDeath=new Howl({src:["./assets/audio/pacman_death.wav"],volume:.2}),soundPacmanEatGhost=new Howl({src:["./assets/audio/pacman_eatghost.wav"],volume:.2}),soundPacmanIntermission=new Howl({src:["./assets/audio/pacman_intermission.wav"],volume:.2}),menuScene=new Container,gameSceneLevel1=new Container,gameOverScene=new Container,helpScene=new Container,settingsScene=new Container,pauseScene=new Container,menuScene.visible=!0,gameSceneLevel1.visible=!1,gameOverScene.visible=!1,helpScene.visible=!1,settingsScene.visible=!1,pauseScene.visible=!1,musicPacmanBeginning.play(),id=PIXI.loader.resources["assets/images/pacmanImages.json"].textures,style=new PIXI.TextStyle({fontFamily:"Consolas",fontSize:28,fontWeight:"bold",wordWrap:!0,wordWrapWidth:440,fill:"white"}),styleTitle=new PIXI.TextStyle({fontFamily:"Consolas",fontSize:52,fontWeight:"bold",wordWrap:!0,wordWrapWidth:440,fill:"#ffcc00"}),textstyle=new TextStyle({fontFamily:"Consolas",fontSize:14,fill:"#ffcc00"}),left=keyboard(37),up=keyboard(38),right=keyboard(39),down=keyboard(40),esc=keyboard(27),enter=keyboard(13),pacmanTitle=new PIXI.Text("PAC-MAN 2017",styleTitle),pacmanTitle.position.set(GAME_WIDTH/2-pacmanTitle.width/2,7*TILE_SIZE),btnStartOver=new Sprite(id["button_over.png"]),btnStartOver.position.set(GAME_WIDTH/2-btnStartOver.width/2,GAME_HEIGHT-7*TILE_SIZE),btnStartOver.interactive=!0,btnStartOver.buttonMode=!0,btnStartOver.visible=!1,btnStart=new Sprite(id["button.png"]),btnStart.position.set(GAME_WIDTH/2-btnStart.width/2,GAME_HEIGHT-7*TILE_SIZE),btnStart.interactive=!0,btnStart.buttonMode=!0,playGameTooltip=new Text("START GAME",textstyle),playGameTooltip.position.set(btnStart.x+btnStart.width/2-playGameTooltip.width/2,btnStart.y-26),playGameTooltip.visible=!1,btnStart.mouseover=function(){let b=new PIXI.TextStyle({fontFamily:"Consolas",fontSize:28,fontWeight:"bold",wordWrap:!0,wordWrapWidth:440,fill:"#ffcc00"});btnStartOver.visible=!0,btnStart.visible=!1,playMessage.setStyle(b),playGameTooltip.visible=!0},btnStartOver.mouseout=function(){btnStartOver.visible=!1,btnStart.visible=!0,playMessage.setStyle(style),playGameTooltip.visible=!1},btnStartOver.click=function(){1==activeLevel&&(pacman=pacmanLevel1),pacman.vx=0,pacman.vy=0,escPressed=!1,frames=framesRight,state=playing1},playMessage=new PIXI.Text("PLAY",style),playMessage.position.set(GAME_WIDTH/2-playMessage.width/2,GAME_HEIGHT-7*TILE_SIZE+10),btnHighscoreOver=new Sprite(id["score_over.png"]),btnHighscoreOver.position.set(GAME_WIDTH-11*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnHighscoreOver.interactive=!0,btnHighscoreOver.buttonMode=!0,btnHighscoreOver.visible=!1,btnHighscore=new Sprite(id["score.png"]),btnHighscore.position.set(GAME_WIDTH-11*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnHighscore.interactive=!0,btnHighscore.buttonMode=!0,highscoreGameTooltip=new Text("COMING SOON",textstyle),highscoreGameTooltip.position.set(btnHighscore.x+btnHighscore.width/2-highscoreGameTooltip.width/2,btnHighscore.y-26),highscoreGameTooltip.visible=!1,btnHighscore.mouseover=function(){btnHighscoreOver.visible=!0,btnHighscore.visible=!1,highscoreGameTooltip.visible=!0},btnHighscoreOver.mouseout=function(){btnHighscoreOver.visible=!1,btnHighscore.visible=!0,highscoreGameTooltip.visible=!1},btnSettingsOver=new Sprite(id["controls_over.png"]),btnSettingsOver.position.set(GAME_WIDTH-9*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnSettingsOver.interactive=!0,btnSettingsOver.buttonMode=!0,btnSettingsOver.visible=!1,btnSettings=new Sprite(id["controls.png"]),btnSettings.position.set(GAME_WIDTH-9*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnSettings.interactive=!0,btnSettings.buttonMode=!0,settingsGameTooltip=new Text("CONTROLS",textstyle),settingsGameTooltip.position.set(btnSettings.x+btnSettings.width/2-settingsGameTooltip.width/2,btnSettings.y-26),settingsGameTooltip.visible=!1,btnSettings.mouseover=function(){btnSettingsOver.visible=!0,btnSettings.visible=!1,settingsGameTooltip.visible=!0},btnSettingsOver.mouseout=function(){btnSettingsOver.visible=!1,btnSettings.visible=!0,settingsGameTooltip.visible=!1},btnSettingsOver.click=function(){state=settings},btnSoundOverDisabled=new Sprite(id["sound_over_disabled.png"]),btnSoundOverDisabled.position.set(GAME_WIDTH-7*TILE_SIZE-2.5,GAME_HEIGHT-3*TILE_SIZE-1),btnSoundOverDisabled.interactive=!0,btnSoundOverDisabled.buttonMode=!0,btnSoundOverDisabled.visible=!1,btnSoundDisabled=new Sprite(id["sound_disabled.png"]),btnSoundDisabled.position.set(GAME_WIDTH-7*TILE_SIZE-2.5,GAME_HEIGHT-3*TILE_SIZE-1),btnSoundDisabled.interactive=!0,btnSoundDisabled.buttonMode=!0,btnSoundDisabled.visible=!1,btnSoundDisabled.mouseover=function(){btnSoundOverDisabled.visible=!0,btnSoundDisabled.visible=!1},btnSoundOverDisabled.mouseout=function(){btnSoundOverDisabled.visible=!1,btnSoundDisabled.visible=!0},btnSoundOver=new Sprite(id["sound_over.png"]),btnSoundOver.position.set(GAME_WIDTH-7*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnSoundOver.interactive=!0,btnSoundOver.buttonMode=!0,btnSoundOver.visible=!1,btnSound=new Sprite(id["sound.png"]),btnSound.position.set(GAME_WIDTH-7*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnSound.interactive=!0,btnSound.buttonMode=!0,soundGameTooltip=new Text("MUTE/UNMUTE SOUND EFFECTS",textstyle),soundGameTooltip.position.set(btnSound.x+btnSound.width/2-soundGameTooltip.width/2,btnSound.y-26),soundGameTooltip.visible=!1,btnSound.mouseover=function(){btnSoundOver.visible=!0,btnSound.visible=!1,soundGameTooltip.visible=!0},btnSoundOver.mouseout=function(){btnSoundOver.visible=!1,btnSound.visible=!0,soundGameTooltip.visible=!1},btnSoundDisabled.mouseover=function(){btnSoundOverDisabled.visible=!0,btnSoundDisabled.visible=!1,soundGameTooltip.visible=!0},btnSoundOverDisabled.mouseout=function(){btnSoundOverDisabled.visible=!1,btnSoundDisabled.visible=!0,soundGameTooltip.visible=!1},btnSoundOver.click=function(){btnSoundOver.visible=!1,btnSoundOverDisabled.visible=!0,soundGameTooltip.visible=!0},btnSoundOverDisabled.click=function(){btnSoundOverDisabled.visible=!1,btnSoundOver.visible=!0},btnMusicOverDisabled=new Sprite(id["music_over_disabled.png"]),btnMusicOverDisabled.position.set(GAME_WIDTH-5*TILE_SIZE-2,GAME_HEIGHT-3*TILE_SIZE-.5),btnMusicOverDisabled.interactive=!0,btnMusicOverDisabled.buttonMode=!0,btnMusicOverDisabled.visible=!1,btnMusicDisabled=new Sprite(id["music_disabled.png"]),btnMusicDisabled.position.set(GAME_WIDTH-5*TILE_SIZE-2,GAME_HEIGHT-3*TILE_SIZE-.5),btnMusicDisabled.interactive=!0,btnMusicDisabled.buttonMode=!0,btnMusicDisabled.visible=!1,btnMusicOver=new Sprite(id["music_over.png"]),btnMusicOver.position.set(GAME_WIDTH-5*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnMusicOver.interactive=!0,btnMusicOver.buttonMode=!0,btnMusicOver.visible=!1,btnMusic=new Sprite(id["music.png"]),btnMusic.position.set(GAME_WIDTH-5*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnMusic.interactive=!0,btnMusic.buttonMode=!0,musicGameTooltip=new Text("MUTE/UNMUTE MUSIC",textstyle),musicGameTooltip.position.set(btnMusic.x+btnMusic.width/2-musicGameTooltip.width/2,btnMusic.y-26),musicGameTooltip.visible=!1,btnMusic.mouseover=function(){btnMusicOver.visible=!0,btnMusic.visible=!1,musicGameTooltip.visible=!0},btnMusicOver.mouseout=function(){btnMusicOver.visible=!1,btnMusic.visible=!0,musicGameTooltip.visible=!1},btnMusicDisabled.mouseover=function(){btnMusicOverDisabled.visible=!0,btnMusicDisabled.visible=!1,musicGameTooltip.visible=!0},btnMusicOverDisabled.mouseout=function(){btnMusicOverDisabled.visible=!1,btnMusicDisabled.visible=!0,musicGameTooltip.visible=!1},btnMusicOver.click=function(){musicPacmanBeginning.playing()&&(musicPacmanBeginning.stop(),btnMusicOver.visible=!1,btnMusicOverDisabled.visible=!0)},btnMusicOverDisabled.click=function(){0==musicPacmanBeginning.playing()&&(musicPacmanBeginning.play(),btnMusicOverDisabled.visible=!1,btnMusicOver.visible=!0)},btnHelpOver=new Sprite(id["questionMark_over.png"]),btnHelpOver.position.set(GAME_WIDTH-3*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnHelpOver.interactive=!0,btnHelpOver.buttonMode=!0,btnHelpOver.visible=!1,btnHelp=new Sprite(id["questionMark.png"]),btnHelp.position.set(GAME_WIDTH-3*TILE_SIZE,GAME_HEIGHT-3*TILE_SIZE),btnHelp.interactive=!0,btnHelp.buttonMode=!0,helpGameTooltip=new Text("INFO/CREDITS",textstyle),helpGameTooltip.position.set(btnHelp.x+btnHelp.width/2-helpGameTooltip.width/2,btnHelp.y-26),helpGameTooltip.visible=!1,btnHelp.mouseover=function(){btnHelpOver.visible=!0,btnHelp.visible=!1,helpGameTooltip.visible=!0},btnHelpOver.mouseout=function(){btnHelpOver.visible=!1,btnHelp.visible=!0,helpGameTooltip.visible=!1},btnHelpOver.click=function(){state=help};for(let a=0;a<level0.length;a++)for(let b=0;b<level0[a].length;b++)"b"==level0[a][b]&&(box=new Sprite(id["box.png"]),box.position.x=b*TILE_SIZE+4*TILE_SIZE-TILE_SIZE/2,box.position.y=a*TILE_SIZE+10*TILE_SIZE+TILE_SIZE/2,menuScene.addChild(box)),"."==level0[a][b]&&(orangeBall=new Sprite(id["orange-ball.png"]),orangeBall.position.x=b*TILE_SIZE+4*TILE_SIZE-orangeBall.width/2,orangeBall.position.y=a*TILE_SIZE+11*TILE_SIZE-orangeBall.width/2,orangeBallsMenu.push(orangeBall),menuScene.addChild(orangeBall));frameIndex=0,pacmanMenu=new Sprite(id[frames[frameIndex]]),frameTime=FRAMERATE,pacmanMenu.position.set(5*TILE_SIZE-TILE_SIZE/2+3,12*TILE_SIZE-TILE_SIZE/2+3),pacmanMenu.vx=SPEED,pacmanMenu.scale.set(.8),menuScene.addChild(pacmanTitle,btnStart,btnStartOver,playMessage,btnHelp,btnHelpOver,btnMusic,btnMusicOver,btnMusicDisabled,btnMusicOverDisabled,btnSound,btnSoundOver,btnSoundDisabled,btnSoundOverDisabled,pacmanMenu,musicGameTooltip,soundGameTooltip,playGameTooltip,btnHighscore,btnHighscoreOver,highscoreGameTooltip,helpGameTooltip,btnSettings,btnSettingsOver,settingsGameTooltip),btnCloseHelpOver=new Sprite(id["close_over.png"]),btnCloseHelpOver.position.set(GAME_WIDTH-3*TILE_SIZE,2*TILE_SIZE),btnCloseHelpOver.interactive=!0,btnCloseHelpOver.buttonMode=!0,btnCloseHelpOver.visible=!1,btnCloseHelp=new Sprite(id["close.png"]),btnCloseHelp.position.set(GAME_WIDTH-3*TILE_SIZE,2*TILE_SIZE),btnCloseHelp.interactive=!0,btnCloseHelp.buttonMode=!0;let a=new Text("BACK TO MENU",textstyle);a.position.set(btnCloseHelp.x+btnCloseHelp.width/2-a.width/2,btnCloseHelp.y-26),a.visible=!1,btnCloseHelp.mouseover=function(){btnCloseHelpOver.visible=!0,btnCloseHelp.visible=!1,a.visible=!0},btnCloseHelpOver.mouseout=function(){btnCloseHelpOver.visible=!1,btnCloseHelp.visible=!0,a.visible=!1},btnCloseHelpOver.click=function(){state=menu};let b=new PIXI.TextStyle({fontFamily:"Consolas",fontSize:24,fontWeight:"bold",wordWrap:!0,wordWrapWidth:440,fill:"#ffcc00"}),c=new PIXI.TextStyle({fontFamily:"Consolas",fontSize:22,fontWeight:"bold",wordWrap:!0,wordWrapWidth:440,fill:"#fff"}),d=new PIXI.TextStyle({fontFamily:"Consolas",fontSize:18,fontWeight:"bold",wordWrap:!0,wordWrapWidth:400,fill:"#fff"}),e=new PIXI.Text("School project to subject 'Innovation Course for the IT Specialists'",b);e.position.set(GAME_WIDTH/2-e.width/2,4*TILE_SIZE);let f=new PIXI.Text("Author: David Krénar",c);f.position.set(GAME_WIDTH/2-f.width/2,8*TILE_SIZE-TILE_SIZE/2+4);let g=new PIXI.Text("Audio and image sources:",b);g.position.set(GAME_WIDTH/2-g.width/2,10*TILE_SIZE);let h=new PIXI.Text("Sounds:\nhttp://www.classicgaming.cc/classics/pac-man/sounds",d);h.position.set(2*TILE_SIZE-TILE_SIZE/4,11*TILE_SIZE);let i=new PIXI.Text("Images:\nhttp://opengameart.org/content/ghosts\nhttp://opengameart.org/content/winter-platformer-\ngame-tileset\nhttps://opengameart.org/content/medieval-game-\nbutton-pack",d);i.position.set(2*TILE_SIZE-TILE_SIZE/4,13*TILE_SIZE),helpScene.addChild(btnCloseHelp,btnCloseHelpOver,e,f,g,h,i,a),btnCloseSettingsOver=new Sprite(id["close_over.png"]),btnCloseSettingsOver.position.set(GAME_WIDTH-3*TILE_SIZE,2*TILE_SIZE),btnCloseSettingsOver.interactive=!0,btnCloseSettingsOver.buttonMode=!0,btnCloseSettingsOver.visible=!1,btnCloseSettings=new Sprite(id["close.png"]),btnCloseSettings.position.set(GAME_WIDTH-3*TILE_SIZE,2*TILE_SIZE),btnCloseSettings.interactive=!0,btnCloseSettings.buttonMode=!0;let j=new Text("BACK TO MENU",textstyle);j.position.set(btnCloseSettings.x+btnCloseSettings.width/2-j.width/2,btnCloseSettings.y-26),j.visible=!1,btnCloseSettings.mouseover=function(){btnCloseSettingsOver.visible=!0,btnCloseSettings.visible=!1,j.visible=!0},btnCloseSettingsOver.mouseout=function(){btnCloseSettingsOver.visible=!1,btnCloseSettings.visible=!0,j.visible=!1},btnCloseSettingsOver.click=function(){state=menu};let k=new PIXI.Text("GAME CONTROLS",styleTitle);k.position.set(GAME_WIDTH/2-k.width/2,6*TILE_SIZE);let l=new PIXI.Text("Use your arrow keys to move PAC-MAN through the maze.",c);l.position.set(GAME_WIDTH/2-l.width/2,9*TILE_SIZE);let m=new Sprite(id["control_up.png"]);m.position.set(GAME_WIDTH/2-m.width/2,11*TILE_SIZE+TILE_SIZE/2);let n=new Sprite(id["control_right.png"]);n.position.set(GAME_WIDTH/2-n.width/2+2*TILE_SIZE,13*TILE_SIZE+TILE_SIZE/2);let o=new Sprite(id["control_down.png"]);o.position.set(GAME_WIDTH/2-o.width/2,13*TILE_SIZE+TILE_SIZE/2);let p=new Sprite(id["control_left.png"]);p.position.set(GAME_WIDTH/2-p.width/2-2*TILE_SIZE,13*TILE_SIZE+TILE_SIZE/2);let q=new PIXI.Text("ESC - pause game\nENTER - continue game",c);q.position.set(GAME_WIDTH/2-q.width/2,16*TILE_SIZE);let r=new PIXI.Text("Eat orangeball = 10\nEat pinkball = 50\nEat ghost (in intermission) = 200",c);r.position.set(GAME_WIDTH/2-r.width/2,18*TILE_SIZE+TILE_SIZE/4),settingsScene.addChild(btnCloseSettings,btnCloseSettingsOver,k,l,m,n,o,p,q,j,r);let s=new PIXI.Text("PAUSE",styleTitle);s.position.set(GAME_WIDTH/2-s.width/2,10*TILE_SIZE);let t=new PIXI.Text("Press ENTER to continue.",c);if(t.position.set(GAME_WIDTH/2-t.width/2,14*TILE_SIZE),pauseScene.addChild(s,t),1==activeLevel)for(let a=0;a<level1.length;a++)for(let b=0;b<level1[a].length;b++)"b"==level1[a][b]&&(box=new Sprite(id["box.png"]),box.position.x=b*TILE_SIZE,box.position.y=a*TILE_SIZE+2*TILE_SIZE,gameSceneLevel1.addChild(box),boxes.push(box)),"a"==level1[a][b]&&(greenCube=new Sprite(id["black-cube.png"]),greenCube.position.x=b*TILE_SIZE,greenCube.position.y=a*TILE_SIZE+2*TILE_SIZE,greenCubes.push(greenCube),pinkBall=new Sprite(id["pink-ball.png"]),pinkBall.position.x=b*TILE_SIZE+TILE_SIZE/2-pinkBall.width/2,pinkBall.position.y=a*TILE_SIZE+2*TILE_SIZE+TILE_SIZE/2-pinkBall.height/2,gameSceneLevel1.addChild(greenCube,pinkBall),pinkBalls.push(pinkBall)),"y"==level1[a][b]&&(yellowCube=new Sprite(id["black-cube.png"]),yellowCube.position.x=b*TILE_SIZE,yellowCube.position.y=a*TILE_SIZE+2*TILE_SIZE,gameSceneLevel1.addChild(yellowCube)),"."==level1[a][b]&&(orangeBall=new Sprite(id["orange-ball.png"]),orangeBall.position.x=b*TILE_SIZE+TILE_SIZE/2-orangeBall.width/2,orangeBall.position.y=a*TILE_SIZE+2*TILE_SIZE+TILE_SIZE/2-orangeBall.height/2,gameSceneLevel1.addChild(orangeBall),orangeBalls.push(orangeBall)),"v"==level1[a][b]&&(greenCube=new Sprite(id["black-cube.png"]),greenCube.position.x=b*TILE_SIZE,greenCube.position.y=a*TILE_SIZE+2*TILE_SIZE,greenCubes.push(greenCube),orangeBall=new Sprite(id["orange-ball.png"]),orangeBall.position.x=b*TILE_SIZE+TILE_SIZE/2-orangeBall.width/2,orangeBall.position.y=a*TILE_SIZE+2*TILE_SIZE+TILE_SIZE/2-orangeBall.height/2,orangeBalls.push(orangeBall),gameSceneLevel1.addChild(greenCube,orangeBall)),"w"==level1[a][b]&&(greenCube=new Sprite(id["black-cube.png"]),greenCube.position.x=b*TILE_SIZE,greenCube.position.y=a*TILE_SIZE+2*TILE_SIZE,gameSceneLevel1.addChild(greenCube),greenCubes.push(greenCube)),"_"==level1[a][b]&&(iceCube=new Sprite(id["box.png"]),iceCube.position.x=b*TILE_SIZE,iceCube.position.y=a*TILE_SIZE+2*TILE_SIZE,gameSceneLevel1.addChild(iceCube),iceCube.visible=!1),"r"==level1[a][b]&&(redCube=new Sprite(id["black-cube.png"]),redCube.position.x=b*TILE_SIZE,redCube.position.y=a*TILE_SIZE+2*TILE_SIZE,gameSceneLevel1.addChild(redCube));frameIndex=0,pacmanLevel1=new Sprite(id[frames[frameIndex]]),frameTime=FRAMERATE,pacmanLevel1.position.set(PACMAN_START_X,PACMAN_START_Y),pacmanLevel1.vx=0,pacmanLevel1.vy=0,pacmanLevel1.scale.set(.7),pacmanLevel1.eatGhost=!1,devilLevel1=new Sprite(id["devil.png"]),devilLevel1.position.set(9*TILE_SIZE,10*TILE_SIZE),devilLevel1.vx=-GHOST_SPEED,devilLevel1.vy=0,devilLevel1.path=moves.LEFT,ghosts.push(devilLevel1),princessLevel1=new Sprite(id["princess.png"]),princessLevel1.position.set(9*TILE_SIZE,12*TILE_SIZE),princessLevel1.vx=0,princessLevel1.vy=-GHOST_SPEED,princessLevel1.path=moves.UP,ghosts.push(princessLevel1),cowboyLevel1=new Sprite(id["cowboy.png"]),cowboyLevel1.position.set(8*TILE_SIZE,12*TILE_SIZE),cowboyLevel1.vx=GHOST_SPEED,cowboyLevel1.vy=0,cowboyLevel1.path=moves.RIGHT,ghosts.push(cowboyLevel1),foxLevel1=new Sprite(id["fox.png"]),foxLevel1.position.set(10*TILE_SIZE,12*TILE_SIZE),foxLevel1.vx=-GHOST_SPEED,foxLevel1.vy=0,foxLevel1.path=moves.LEFT,ghosts.push(foxLevel1),pacmanLevel1Life1=new Sprite(id["pacman-open-right.png"]),pacmanLevel1Life1.position.set(TILE_SIZE,24*TILE_SIZE+3),pacmanLevel1Life1.scale.set(.8),pacmanLevel1Life2=new Sprite(id["pacman-open-right.png"]),pacmanLevel1Life2.position.set(2*TILE_SIZE,24*TILE_SIZE+3),pacmanLevel1Life2.scale.set(.8),playerNameText=new PIXI.Text("PLAYER 1",style),playerNameText.position.set(2*TILE_SIZE,6),playerScore=0,playerScoreText=new PIXI.Text(playerScore.toString(),style),playerScoreText.position.set(2*TILE_SIZE,TILE_SIZE),gameSceneLevel1.addChild(pacmanLevel1,devilLevel1,princessLevel1,cowboyLevel1,foxLevel1,pacmanLevel1Life1,pacmanLevel1Life2,playerNameText,playerScoreText),message=new Text("THE END OF GAME!",{font:"60px Consolas",fill:"#ffcc00"}),message.x=GAME_WIDTH/2-message.width/2,message.y=GAME_HEIGHT/2-message.height/2,btnPlayOver=new Sprite(id["play_over.png"]),btnPlayOver.position.set(GAME_WIDTH-4*TILE_SIZE,GAME_HEIGHT-4*TILE_SIZE),btnPlayOver.interactive=!0,btnPlayOver.buttonMode=!0,btnPlayOver.visible=!1,btnPlay=new Sprite(id["play.png"]),btnPlay.position.set(GAME_WIDTH-4*TILE_SIZE,GAME_HEIGHT-4*TILE_SIZE),btnPlay.interactive=!0,btnPlay.buttonMode=!0,restartGameTooltip=new Text("BACK TO MENU",textstyle),restartGameTooltip.position.set(btnPlayOver.x+btnPlayOver.width/2-restartGameTooltip.width/2,btnPlayOver.y-26),restartGameTooltip.visible=!1,btnPlay.mouseover=function(){btnPlayOver.visible=!0,btnPlay.visible=!1,restartGameTooltip.visible=!0},btnPlayOver.mouseout=function(){btnPlayOver.visible=!1,btnPlay.visible=!0,restartGameTooltip.visible=!1},btnPlayOver.click=function(){location.reload()},gameOverScene.addChild(message,btnPlay,btnPlayOver,restartGameTooltip),stage.addChild(menuScene,gameSceneLevel1,gameOverScene,settingsScene,helpScene,pauseScene),right.press=(()=>{1==activeLevel&&(pacmanLevel1.vx=SPEED,pacmanLevel1.vy=0);frames=framesRight;rightPressed=!0;leftPressed=!1;upPressed=!1;downPressed=!1}),left.press=(()=>{1==activeLevel&&(pacmanLevel1.vx=-SPEED,pacmanLevel1.vy=0);frames=framesLeft;leftPressed=!0;rightPressed=!1;upPressed=!1;downPressed=!1}),up.press=(()=>{1==activeLevel&&(pacmanLevel1.vx=0,pacmanLevel1.vy=-SPEED);frames==framesRight&&(frames=framesRightUp);frames==framesLeft&&(frames=framesLeftUp);frames==framesRightDown&&(frames=framesLeftUp);frames==framesLeftDown&&(frames=framesRightUp);upPressed=!0;rightPressed=!1;leftPressed=!1;downPressed=!1}),down.press=(()=>{1==activeLevel&&(pacmanLevel1.vx=0,pacmanLevel1.vy=SPEED);frames==framesRight&&(frames=framesRightDown);frames==framesLeft&&(frames=framesLeftDown);frames==framesRightUp&&(frames=framesLeftDown);frames==framesLeftUp&&(frames=framesRightDown);downPressed=!0;rightPressed=!1;leftPressed=!1;upPressed=!1}),esc.press=(()=>{escPressed=!0;enterPressed=!1;soundPacmanIntermission.playing()&&(intermissionPlaying=!0,soundPacmanIntermission.pause(),pauseIntermission=soundPacmanIntermission.pause()._sounds[0]._seek)}),enter.press=(()=>{enterPressed=!0;escPressed=!1;intermissionPlaying&&(soundPacmanIntermission.seek(pauseIntermission),soundPacmanIntermission.play(),intermissionPlaying=!1)}),lasttime=(new Date).getTime(),gameLoop()}let a={antialias:!1,transparent:!1,resolution:window.devicePixelRatio};if(renderer=autoDetectRenderer(GAME_WIDTH,GAME_HEIGHT,a),renderer.backgroundColor=0,PIXI.CanvasRenderer,navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var b=["\n %c %c %c PAC-MAN 2017 - David Krénar %c  %c  https://github.com/dawe484/pacman/  %c  \n\n","background: #ffcc00; padding:5px 0;","background: #ffcc00; padding:5px 0;","color: #ffcc00; background: #030307; padding:5px 0;","background: #ffcc00; padding:5px 0;","background: #ffe680; padding:5px 0;","background: #ffcc00; padding:5px 0;"];window.console.log.apply(console,b)}else window.console&&window.console.log("PAC-MAN 2017 - David Krénar - https://github.com/dawe484/pacman/");document.body.appendChild(renderer.view),stage=new Container,window.innerHeight<=GAME_HEIGHT&&(c(),window.addEventListener("resize",c)),window.devicePixelRatio>=4||loader.add(["assets/images/pacmanImages.json"]).load(d)}function gameLoop(){state(),currtime=(new Date).getTime(),delta=(currtime-lasttime)/1e3,frameTime-=delta,frameTime<=0&&(frameIndex++,frameIndex>=frames.length&&(frameIndex=0),pacmanLevel1.texture=PIXI.Texture.fromFrame(frames[frameIndex]),pacmanMenu.texture=PIXI.Texture.fromFrame(frames[frameIndex]),frameTime=FRAMERATE),renderer.render(stage),requestAnimationFrame(gameLoop),lasttime=currtime}function menu(){helpScene.visible=!1,settingsScene.visible=!1,gameOverScene.visible=!1,menuScene.visible=!0;let a=!1,b=contain(pacmanMenu,{x:4*TILE_SIZE+TILE_SIZE/2,y:12*TILE_SIZE-TILE_SIZE/2,width:15*TILE_SIZE-TILE_SIZE/2,height:13*TILE_SIZE+TILE_SIZE/2});"left"===b&&(frames=framesRight,pacmanMenu.vx*=-SPEED,orangeBallsMenu.forEach(a=>{a.visible=!0})),"right"===b&&(frames=framesLeft,pacmanMenu.vx*=-SPEED,orangeBallsMenu.forEach(a=>{a.visible=!0})),pacmanMenu.x+=pacmanMenu.vx,orangeBallsMenu.forEach(b=>{hitTestRectangle(pacmanMenu,b)&&(a=!0);a&&(a=!1,b.visible=!1)})}function help(){menuScene.visible=!1,helpScene.visible=!0}function settings(){menuScene.visible=!1,settingsScene.visible=!0}function pause(){1==activeLevel&&(gameSceneLevel1.visible=!1),pauseScene.visible=!0,enterPressed&&(enterPressed=!1,state=playing1)}function playing1(){musicPacmanBeginning.stop(),gameOverScene.visible=!1,menuScene.visible=!1,pauseScene.visible=!1,gameSceneLevel1.visible=!0,1==activeLevel&&(pacman=pacmanLevel1,pacman.x+=pacman.vx,pacman.y+=pacman.vy,pacmanLife1=pacmanLevel1Life1,pacmanLife2=pacmanLevel1Life2,devil=devilLevel1,cowboy=cowboyLevel1,princess=princessLevel1,fox=foxLevel1,-26!==pacman.x||384!==pacman.y&&385!==pacman.y&&386!==pacman.y&&387!==pacman.y&&388!==pacman.y&&389!==pacman.y&&390!==pacman.y&&391!==pacman.y&&392!==pacman.y?pacman.x!==GAME_WIDTH+10||384!==pacman.y&&385!==pacman.y&&386!==pacman.y&&387!==pacman.y&&388!==pacman.y&&389!==pacman.y&&390!==pacman.y&&391!==pacman.y&&392!==pacman.y||pacman.position.set(-26,pacman.y):pacman.position.set(GAME_WIDTH+10,pacman.y)),controls()}function controls(){escPressed&&(escPressed=!1,state=pause);let a=!1,b=!1,c=!1,d=!1,e=!1;moveGhost(devil),ghostMoving(devil),playerScore>=300&&(moveGhost(princess),ghostMoving(princess)),playerScore>=600&&(moveGhost(cowboy),ghostMoving(cowboy)),playerScore>=900&&(moveGhost(fox),ghostMoving(fox)),hitTestRectangle(pacman,iceCube)&&(pacman.vx=0,pacman.vy=0,pacman.x-=OFFSET),boxes.forEach(b=>{hitTestRectangle(pacman,b)&&(a=!0);a&&(a=!1,pacman.vx=0,pacman.vy=0,rightPressed&&(rightPressed=!1,pacman.x-=PACMAN_OFFSET),leftPressed&&(leftPressed=!1,pacman.x+=PACMAN_OFFSET),upPressed&&(upPressed=!1,pacman.y+=PACMAN_OFFSET),downPressed&&(downPressed=!1,pacman.y-=PACMAN_OFFSET))}),boxes.forEach(a=>{ghosts.forEach(b=>{hitTestRectangle(b,a)&&(e=!0);e&&(e=!1,b.vx=0,b.vy=0,b.path==moves.UP&&(b.y+=OFFSET),b.path==moves.RIGHT&&(b.x-=OFFSET),b.path==moves.DOWN&&(b.y-=OFFSET),b.path==moves.LEFT&&(b.x+=OFFSET))})}),ghosts.forEach(a=>{hitTestRectangle(pacman,a)&&(d=!0);if(d)if(d=!1,pacman.eatGhost){btnSoundDisabled.visible||soundPacmanEatGhost.play(),playerScore+=GHOST_VALUE,playerScoreText.text=playerScore;for(let b=0;b<ghosts.length;b++)0==ghosts[b]?a.setTexture(id["devil.png"]):1==ghosts[b]?a.setTexture(id["princess.png"]):2==ghosts[b]?a.setTexture(id["cowboy.png"]):3==ghosts[b]&&a.setTexture(id["fox.png"]);a.position.set(9*TILE_SIZE,10*TILE_SIZE),a.path=moves.LEFT,a.vx=0,a.vy=0,setTimeout(function(){a.vx=-GHOST_SPEED,a.vy=0},4e3)}else btnSoundDisabled.visible||soundPacmanDeath.play(),2===lifeCounter?(1==activeLevel&&gameSceneLevel1.removeChild(pacmanLife2),lifeCounter-=1,pacman.position.set(PACMAN_START_X,PACMAN_START_Y),pacman.vx=0,pacman.vy=0,frames=framesRight):1===lifeCounter?(1==activeLevel&&gameSceneLevel1.removeChild(pacmanLife1),lifeCounter-=1,pacman.position.set(PACMAN_START_X,PACMAN_START_Y),pacman.vx=0,pacman.vy=0,frames=framesRight):0===lifeCounter&&(state=end,message.text="    YOU LOST!   ")}),orangeBalls.forEach(a=>{hitTestRectangle(pacman,a)&&(b=!0);if(b){b=!1,btnSoundDisabled.visible||soundPacmanMunch.play();let c=orangeBalls.indexOf(a);-1!=c&&(orangeBalls.splice(c,1),playerScore+=ORANGEBALL_VALUE,playerScoreText.text=playerScore),1==activeLevel&&gameSceneLevel1.removeChild(a),0===orangeBalls.length&&0===pinkBalls.length&&(state=end,message.text="    YOU WON!    ",1==activeLevel&&(restartGameTooltip.text="RESTART GAME!"))}}),pinkBalls.forEach(a=>{hitTestRectangle(pacman,a)&&(c=!0);if(c){c=!1,btnSoundDisabled.visible?(soundPacmanIntermission.play(),soundPacmanIntermission.volume(0),devil.setTexture(id["devil-eat.png"]),princess.setTexture(id["princess-eat.png"]),cowboy.setTexture(id["cowboy-eat.png"]),fox.setTexture(id["fox-eat.png"]),pacman.eatGhost=!0,soundPacmanIntermission.on("end",()=>{devil.setTexture(id["devil.png"]);princess.setTexture(id["princess.png"]);cowboy.setTexture(id["cowboy.png"]);fox.setTexture(id["fox.png"]);pacman.eatGhost=!1})):(soundPacmanIntermission.play(),devil.setTexture(id["devil-eat.png"]),princess.setTexture(id["princess-eat.png"]),cowboy.setTexture(id["cowboy-eat.png"]),fox.setTexture(id["fox-eat.png"]),pacman.eatGhost=!0,soundPacmanIntermission.on("end",()=>{devil.setTexture(id["devil.png"]);princess.setTexture(id["princess.png"]);cowboy.setTexture(id["cowboy.png"]);fox.setTexture(id["fox.png"]);pacman.eatGhost=!1}));let b=pinkBalls.indexOf(a);-1!=b&&(pinkBalls.splice(b,1),playerScore+=PINKBALL_VALUE,playerScoreText.text=playerScore),1==activeLevel&&gameSceneLevel1.removeChild(a),0===pinkBalls.length&&0===orangeBalls.length&&(state=end,message.text="    YOU WON!    ",1==activeLevel&&(restartGameTooltip.text="RESTART GAME!"))}})}function end(){menuScene.visible=!1,musicPacmanBeginning.stop(),soundPacmanIntermission.stop(),gameSceneLevel1.visible=!1,gameOverScene.visible=!0}function keyboard(a){let b={};return b.code=a,b.isDown=!1,b.isUp=!0,b.press=void 0,b.release=void 0,b.downHandler=function(a){a.keyCode===b.code&&(b.isUp&&b.press&&b.press(),b.isDown=!0,b.isUp=!1),a.preventDefault()},b.upHandler=function(a){a.keyCode===b.code&&(b.isDown&&b.release&&b.release(),b.isDown=!1,b.isUp=!0),a.preventDefault()},window.addEventListener("keydown",b.downHandler.bind(b),!1),window.addEventListener("keyup",b.upHandler.bind(b),!1),b}function contain(a,b){let c=void 0;return a.x<b.x&&(a.x=b.x,c="left"),a.y<b.y&&(a.y=b.y,c="top"),a.x+a.width>b.width&&(a.x=b.width-a.width,c="right"),a.y+a.height>b.height&&(a.y=b.height-a.height,c="bottom"),c}function hitTestRectangle(a,b){let d,e,f,g;return!1,a.centerX=a.x+a.width/2,a.centerY=a.y+a.height/2,b.centerX=b.x+b.width/2,b.centerY=b.y+b.height/2,a.halfWidth=a.width/2,a.halfHeight=a.height/2,b.halfWidth=b.width/2,b.halfHeight=b.height/2,f=a.centerX-b.centerX,g=a.centerY-b.centerY,d=a.halfWidth+b.halfWidth,e=a.halfHeight+b.halfHeight,Math.abs(f)<d&&Math.abs(g)<e}function hitGreenCube(a,b){let c;return c=!1,a.x+TILE_SIZE/2==b.x+TILE_SIZE/2&&a.y+TILE_SIZE/2==b.y+TILE_SIZE/2?(c=!0,c?(direction=Math.floor(4*Math.random()+1),1==direction?(a.path=moves.UP,a.vx=0,a.vy=-GHOST_SPEED):2==direction?(a.path=moves.RIGHT,a.vx=GHOST_SPEED,a.vy=0):3==direction?(a.path=moves.DOWN,a.vx=0,a.vy=GHOST_SPEED):4==direction&&(a.path=moves.LEFT,a.vx=-GHOST_SPEED,a.vy=0)):c=!1):c=!1,c}function moveGhost(a){a.x+=a.vx,a.y+=a.vy,-26!==a.x||384!==a.y&&320!==a.y&&512!==a.y?a.x!==GAME_WIDTH+10||384!==a.y&&320!==a.y&&512!==a.y||a.position.set(-26,a.y):a.position.set(GAME_WIDTH+10,a.y),greenCubes.forEach(b=>{hitGreenCube(a,b)}),hitYellowCube(a,yellowCube),hitRedCube(a,redCube)}function hitYellowCube(a,b){let c;return c=!1,a.x==b.x&&a.y==b.y?(c=!0)&&4==(direction=4)&&(a.path=moves.LEFT,a.vx=-GHOST_SPEED,a.vy=0):c=!1,c}function hitRedCube(a,b){let c;return c=!1,a.x==b.x&&a.y==b.y?(c=!0)&&1==(direction=1)&&(a.path=moves.UP,a.vx=0,a.vy=-GHOST_SPEED):c=!1,c}function ghostMoving(a){"devil.png"==a._texture.textureCacheIds&&(coorDevil.push(a.x),coorDevil.push(a.y),movingDevilArray.push(coorDevil),coorDevil=[],6==movingDevilArray.length&&(movingDevilArray[0][0]==movingDevilArray[1][0]&&movingDevilArray[1][0]==movingDevilArray[2][0]&&movingDevilArray[2][0]==movingDevilArray[3][0]&&movingDevilArray[3][0]==movingDevilArray[4][0]&&movingDevilArray[4][0]==movingDevilArray[5][0]&&movingDevilArray[0][1]==movingDevilArray[1][1]&&movingDevilArray[1][1]==movingDevilArray[2][1]&&movingDevilArray[2][1]==movingDevilArray[3][1]&&movingDevilArray[3][1]==movingDevilArray[4][1]&&movingDevilArray[4][1]==movingDevilArray[5][1]&&(a.x=Math.round(movingDevilArray[0][0]/TILE_SIZE)*TILE_SIZE,a.y=Math.round(movingDevilArray[0][1]/TILE_SIZE)*TILE_SIZE),movingDevilArray=[])),"princess.png"==a._texture.textureCacheIds&&(coorPrincess.push(a.x),coorPrincess.push(a.y),movingPrincessArray.push(coorPrincess),coorPrincess=[],6==movingPrincessArray.length&&(movingPrincessArray[0][0]==movingPrincessArray[1][0]&&movingPrincessArray[1][0]==movingPrincessArray[2][0]&&movingPrincessArray[2][0]==movingPrincessArray[3][0]&&movingPrincessArray[3][0]==movingPrincessArray[4][0]&&movingPrincessArray[4][0]==movingPrincessArray[5][0]&&movingPrincessArray[0][1]==movingPrincessArray[1][1]&&movingPrincessArray[1][1]==movingPrincessArray[2][1]&&movingPrincessArray[2][1]==movingPrincessArray[3][1]&&movingPrincessArray[3][1]==movingPrincessArray[4][1]&&movingPrincessArray[4][1]==movingPrincessArray[5][1]&&(a.x=Math.round(movingPrincessArray[0][0]/TILE_SIZE)*TILE_SIZE,a.y=Math.round(movingPrincessArray[0][1]/TILE_SIZE)*TILE_SIZE),movingPrincessArray=[])),"cowboy.png"==a._texture.textureCacheIds&&(coorCowboy.push(a.x),coorCowboy.push(a.y),movingCowboyArray.push(coorCowboy),coorCowboy=[],6==movingCowboyArray.length&&(movingCowboyArray[0][0]==movingCowboyArray[1][0]&&movingCowboyArray[1][0]==movingCowboyArray[2][0]&&movingCowboyArray[2][0]==movingCowboyArray[3][0]&&movingCowboyArray[3][0]==movingCowboyArray[4][0]&&movingCowboyArray[4][0]==movingCowboyArray[5][0]&&movingCowboyArray[0][1]==movingCowboyArray[1][1]&&movingCowboyArray[1][1]==movingCowboyArray[2][1]&&movingCowboyArray[2][1]==movingCowboyArray[3][1]&&movingCowboyArray[3][1]==movingCowboyArray[4][1]&&movingCowboyArray[4][1]==movingCowboyArray[5][1]&&(a.x=Math.round(movingCowboyArray[0][0]/TILE_SIZE)*TILE_SIZE,a.y=Math.round(movingCowboyArray[0][1]/TILE_SIZE)*TILE_SIZE),movingCowboyArray=[])),"fox.png"==a._texture.textureCacheIds&&(coorFox.push(a.x),coorFox.push(a.y),movingFoxArray.push(coorFox),coorFox=[],6==movingFoxArray.length&&(movingFoxArray[0][0]==movingFoxArray[1][0]&&movingFoxArray[1][0]==movingFoxArray[2][0]&&movingFoxArray[2][0]==movingFoxArray[3][0]&&movingFoxArray[3][0]==movingFoxArray[4][0]&&movingFoxArray[4][0]==movingFoxArray[5][0]&&movingFoxArray[0][1]==movingFoxArray[1][1]&&movingFoxArray[1][1]==movingFoxArray[2][1]&&movingFoxArray[2][1]==movingFoxArray[3][1]&&movingFoxArray[3][1]==movingFoxArray[4][1]&&movingFoxArray[4][1]==movingFoxArray[5][1]&&(a.x=Math.round(movingFoxArray[0][0]/TILE_SIZE)*TILE_SIZE,a.y=Math.round(movingFoxArray[0][1]/TILE_SIZE)*TILE_SIZE),movingFoxArray=[]))}let loading;const Container=PIXI.Container,autoDetectRenderer=PIXI.autoDetectRenderer,loader=PIXI.loader,resources=PIXI.loader.resources,TextureCache=PIXI.utils.TextureCache,Sprite=PIXI.Sprite,Text=PIXI.Text,TextStyle=PIXI.TextStyle,Camera=PIXI.Camera3d,GAME_WIDTH=608,GAME_HEIGHT=800,TILE_SIZE=32,OFFSET=1,PACMAN_OFFSET=2,SPEED=1,GHOST_SPEED=1,GHOST_VALUE=200,ORANGEBALL_VALUE=10,PINKBALL_VALUE=50,PACMAN_START_X=9*TILE_SIZE+5,PACMAN_START_Y=18*TILE_SIZE+5,level0=["bbbbbbbbbbbb","b..........b","bbbbbbbbbbbb"],level1=["bbbbbbbbbbbbbbbbbbb","ba..v...vbv...v..ab","b.bb.bbb.b.bbb.bb.b","b.bb.bbb.b.bbb.bb.b","bv..v.v.v.v.v.v..vb","b.bb.b.bbbbb.b.bb.b","bv..vbv.vbv.vbv..vb","bbbb.bbbnbnbbb.bbbb","nnnb.bwnwywnwb.bnnn","bbbb.bnbb_bbnb.bbbb","nnnnvnwbnrnbwnvnnnn","bbbb.bnbbbbbnb.bbbb","nnnb.bwnnnnnwb.bnnn","bbbb.bnbbbbbnb.bbbb","bv..v.v.vbv.v.v..vb","b.bb.bbb.b.bbb.bb.b","bvvbv.v.vnv.v.vbvvb","bb.b.b.bbbbb.b.b.bb","bvv.vbv.vbv.vbv.vvb","b.bbbbbb.b.bbbbbb.b","ba......v.v......ab","bbbbbbbbbbbbbbbbbbb"];let renderer,stage,menuScene,gameSceneLevel1,gameOverScene,helpScene,settingsScene,pauseScene,stats,id,style,styleTitle,textstyle,pacmanTitle,pacmanMenu,btnStart,btnStartOver,btnSettings,btnSettingsOver,btnHighscore,btnHighscoreOver,btnHelp,btnHelpOver,btnMusic,btnMusicOver,btnMusicDisabled,btnMusicOverDisabled,btnSound,btnSoundOver,btnSoundDisabled,btnSoundOverDisabled,btnCloseHelp,btnCloseHelpOver,btnPlay,btnPlayOver,restartGameTooltip,musicGameTooltip,soundGameTooltip,playGameTooltip,settingsGameTooltip,highscoreGameTooltip,helpGameTooltip,btnCloseSettings,btnCloseSettingsOver,left,right,up,down,esc,enter,pacman,pacmanLevel1,pacmanLife1,pacmanLife2,pacmanLevel1Life1,pacmanLevel1Life2,box,pinkBall,orangeBall,iceCube,devil,fox,cowboy,princess,devilLevel1,princessLevel1,cowboyLevel1,foxLevel1,yellowCube,greenCube,redCube,playerName,playerScore,playerNameText,playerScoreText,message,playMessage,activeLevel=1,state=menu,orangeBallsMenu=[],boxes=[],ghosts=[],orangeBalls=[],pinkBalls=[],greenCubes=[],rightPressed=!1,leftPressed=!1,upPressed=!1,downPressed=!1,escPressed=!1,enterPressed=!1,frames=["pacman-open-right.png","pacman-close-right.png"];const framesRight=["pacman-open-right.png","pacman-close-right.png"],framesRightUp=["pacman-open-right-up.png","pacman-close-right-up.png"],framesRightDown=["pacman-open-right-down.png","pacman-close-right-down.png"],framesLeft=["pacman-open-left.png","pacman-close-left.png"],framesLeftUp=["pacman-open-left-up.png","pacman-close-left-up.png"],framesLeftDown=["pacman-open-left-down.png","pacman-close-left-down.png"];let frameIndex,frameTime,delta,lasttime,currtime;const FRAMERATE=.13;let direction,path,musicPacmanBeginning,soundPacmanMunch,soundPacmanIntermission,soundPacmanEatGhost,soundPacmanDeath,pauseIntermission,lifeCounter=2,moves={UP:0,RIGHT:1,DOWN:2,LEFT:3},intermissionPlaying=!1,coorDevil=[],coorPrincess=[],coorCowboy=[],coorFox=[],movingDevilArray=[],movingPrincessArray=[],movingCowboyArray=[],movingFoxArray=[];